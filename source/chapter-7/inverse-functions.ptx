<section xml:id="inverse-functions">
  <title>Inverse Functions</title>

  <definition xml:id="def-inverse-as-swapped-pairs">
    <title>Definition</title>
    <statement>
    <p>Let <m>f(x)</m> be any function and let <m>(x,f(x))</m> be any point on its graph. Then the <em>inverse</em> of <m>f(x)</m> is the set of all points of the form <m>(f(x),x)</m>.</p>
    </statement>  
</definition>

  <note xml:id="note-inverse-rarely-a-function">
    <title>Important Note</title>
    <p>The inverse of a function is rarely a function itself.</p>
  </note>

  <example xml:id="example-3-inverse-of-x-squared-not-a-function">
    <title>Example 3</title>
    <statement>
      <p>Show that the inverse of <m>f(x)=x^2</m> is>not a function.</p>
    </statement>
    <solution>
      <p>
        Let's consider some sample points from the graph of <m>f(x)=x^2</m>: <me>(-2,4), (-1,1), (0,0), (1,1), (2,4)</me> By definition, the inverse has the sample points <me>(4,-2), (1,-1), (0,0), (1,1), (4,2)</me> While its not explicitly stated, since we are just switching the coordinates, the graph of the inverse keeps the same shape as the original function but will be oriented in a different directed.  Plotting the points for the inverse and drawing a parabola through them, we get the following graph.
      </p>
      <figure xml:id="graph-of-x2-inverse-not-function">
        <caption>The inverse of <m>f(x)=x^2</m> is a sideways parabola.</caption>
        <image source="chapter-7/graph-of-x2-inverse-not-function.png" width="50%" decorative="yes"/>
      </figure>
      <p>
        Since the inverse graph fails the vertical line test, the inverse is not a function.
      </p>
    </solution>
  </example>

  <theorem xml:id="thm-hlt-implies-inverse-is-function">
    <title>Theorem</title>
    <p>Any function that passes the horizontal line test has an inverse that is also a function.</p>
  </theorem>

  <corollary xml:id="remark-notation-inverse-function">
    <title>Notation for an Inverse Function</title>
    <p>If the inverse of <m>f(x)</m> is a function, we denote it by <m>f^{-1}(x)</m>.</p>
  </corollary>

  <note xml:id="warning-inverse-vs-reciprocal">
    <title>Warning</title>
    <p><m>f^{-1}(x)\ne \dfrac{1}{f(x)}</m>. If we want the reciprocal, we write <m>[f(x)]^{-1}=\dfrac{1}{f(x)}</m>.</p>
  </note>

  <example xml:id="example-4-restricted-square-has-inverse">
    <title>Example 4</title>
    <statement>
      <p>Show that <m>f(x)=x^2,\; x\ge 0</m> has an inverse function.  Graph the inverse function, and identity the inverse function from its graph.</p>
    </statement>
    <solution>
      <p>
        First, let's graph the function <m>f(x)</m>.
      </p>
      <figure xml:id="fig-graph-restricted-x2">
        <caption>Graph of <m>f(x)=x^2,\; x\ge 0</m>.</caption>
        <image source="chapter-7/graph-restricted-x2.png" width="50%" decorative="yes"/>
      </figure>
      <p>
        Since the modified graph of <m>x^2</m> passes the horizontal line test, the inverse for <m>f(x)</m> is a function.
      </p>
      <p>To graph the inverse, we start with some sample points for <m>f(x)</m>: <me>(0,0), (1,1), (2,4), (3,9)</me> 
        By definition, the inverse will have the points <me>(0,0), (1,1), (4,2), (9,3)</me> 
        Plotting these points and drawing a half-parabola through them yields the following graph.
      </p>
      <figure xml:id="fig-graph-inverse-restricted-x2">
        <caption>Graph of the inverse of <m>f(x)=x^2,\; x\ge 0</m>.</caption>
        <image source="chapter-7/graph-inverse-restricted-x2.png" width="50%" decorative="yes"/>
      </figure>
      <p>
        From the graph, we can see that the inverse function is the square root function, <me>y=\sqrt{x}</me> 
        Since the square root function is an inverse function for <m>f(x)</m>, we write <me>f^{-1}(x)=\sqrt{x}</me> instead of <m>y=\sqrt{x}</m>.
      </p>
    </solution>
  </example>

  <theorem xml:id="thm-inverse-composition-properties">
    <title>Inverse Function Property</title>
    <statement>
    <p>Let <m>f(x)</m> be any one-to-one function. Then the inverse function <m>f^{-1}(x)</m> exists and has the following properties.</p>
    <p>
      <ol>
        <li><p><m>(f^{-1}\circ f)(x)=x</m> for any <m>x</m> in the domain of <m>f</m>.</p></li>
        <li><p><m>(f\circ f^{-1})(x)=x</m> for any <m>x</m> in the range of <m>f</m>.</p></li>
        <li><p>The domain of <m>f^{-1}</m> equals the range of <m>f</m>.</p></li>
        <li><p>The range of <m>f^{-1}</m> equals the domain of <m>f</m>.</p></li>
      </ol>
    </p>
    </statement>
  </theorem>

  <example xml:id="example-9-check-sqrt-square-inverses">
    <title>Example 9</title>
    <statement>
      <p>Determine if <m>f(x)=x^2</m> and <m>g(x)=\sqrt{x}</m> are inverse functions.</p>
    </statement>
    <solution>
      <p>
        Even though 
        <md>
          <mrow>(f\circ g)(x) \amp=f(g(x)\\) </mrow>
          <mrow>\amp=f(\sqrt{x})\\</mrow>
          <mrow>\amp=(\sqrt{x})^2\\</mrow>
          <mrow>\amp=x\\</mrow>
        </md>
        and
        <md>
          <mrow>(g\circ f)(x) \amp=g(f(x)\\) </mrow>
          <mrow>\amp=g(x^2)\\</mrow>
          <mrow>\amp=\sqrt{x^2}\\</mrow>
          <mrow>\amp=x\\</mrow>
        </md>
        since the range of <m>g(x)=\sqrt{x}</m> is <m>[0,\infty)</m> and the domain of <m>f(x)=x^2</m> is <m>(-\infty,\infty)</m>, the two functions are not inverses of each other. 
      </p>   
    </solution>
  </example>

  <example xml:id="example-10-check-linear-inverses">
    <title>Example 10</title>
    <statement>
      <p>Determine if <m>f(x)=3x-2</m> and <m>g(x)=\dfrac{x+2}{3}</m> are inverse functions.</p>
    </statement>
<solution>
  <p>
    Since 
    <md>
      <mrow>(f\circ g)(x) \amp=f(g(x)\\) </mrow>
      <mrow>\amp=f\left(\dfrac{x+2}{3}\right)\\</mrow>
      <mrow>\amp=3\left(\dfrac{x+2}{3}\right)-2\\</mrow>
      <mrow>\amp=x+2-2\\</mrow>
      <mrow>\amp=x\\</mrow>
    </md>
    and
    <md>
      <mrow>(g\circ f)(x) \amp=g(f(x)\\) </mrow>
      <mrow>\amp=g(3x-2)\\</mrow>
      <mrow>\amp=\dfrac{(3x-2)+2}{3}\\</mrow>
      <mrow>\amp=\dfrac{3x}{3}\\</mrow>
      <mrow>\amp=x\\</mrow>
    </md>
    and since both functions have domain and range of <m>(-\infty,\infty)</m>, the two functions are inverses of each other.
  </p>
</solution>
  </example>

  <lemma xml:id="lem-find-inverse-technique">
    <title>Finding the Inverse of a Function Algebraically</title>
    <statement>
    <p>
      <ol>
        <li><p>Replace <m>f(x)</m> with <m>y</m>.</p></li>
        <li><p>Interchange <m>x</m> and <m>y</m>.</p></li>
        <li><p>Solve for <m>y</m>.</p></li>
        <li><p>Replace <m>y</m> with <m>f^{-1}(x)</m>.</p></li>
      </ol>
    </p>
    </statement>
  </lemma>

  <example xml:id="example-11-find-inverse-linear">
    <title>Example 11</title>
    <statement>
      <p>Find the inverse for <m>f(x)=5x+3</m>.</p>
    </statement>
    <answer>
      <p>
        <m>f^{-1}(x)=\dfrac{x-3}{5}</m>.
      </p>
    </answer>
    <solution>
      <p>
        We will follow the procedure outlined above to produce the following calculation:
        <md>
          <mrow>y\amp=5x+3\\</mrow>
          <mrow>x\amp=5y+3\\</mrow>
          <mrow>x-3\amp=5y\\</mrow>
          <mrow>y\amp=\dfrac{x-3}{5}\\</mrow>
          <mrow>f^{-1}(x)\amp=\dfrac{x-3}{5}\\</mrow>
        </md>
        Therefore, the inverse function is <m>f^{-1}(x)=\dfrac{x-3}{5}</m>.
      </p>
    </solution>
  </example>

  <example xml:id="example-12-find-inverse-rational">
    <title>Example 12</title>
    <statement>
      <p>Find the inverse for <m>f(x)=\dfrac{3-x}{x+9}</m>.</p>
    </statement>
    <answer>
      <p>
        <m>f^{-1}(x)=\dfrac{3 - 9x}{x + 1}</m>.
      </p>
    </answer>
    <solution>
      <p>
        We will follow the procedure outlined above to produce the following calculation:
        <md>
          <mrow>y\amp=\dfrac{3-x}{x+9}\\</mrow>
          <mrow>x(y+9)\amp=3 - y\\</mrow>
          <mrow>xy + 9x\amp=3 - y\\</mrow>
          <mrow>xy + y\amp=3 - 9x\\</mrow>
          <mrow>y(x + 1)\amp=3 - 9x\\</mrow>
          <mrow>y\amp=\dfrac{3 - 9x}{x + 1}\\</mrow>
          <mrow>f^{-1}(x)\amp=\dfrac{3 - 9x}{x + 1}\\</mrow>
        </md>
        Therefore, the inverse function is <m>f^{-1}(x)=\dfrac{3 - 9x}{x + 1}</m>.
      </p>
    </solution>
  </example>

  <theorem xml:id="thm-graph-points-swap">
    <title>Graphs of Inverse Functions</title>
    <statement>
    <p>If the point <m>(a,b)</m> is on the graph of <m>y=f(x)</m>, then the point <m>(b,a)</m> is on the graph of <m>y=f^{-1}(x)</m>.</p>
    </statement>
  </theorem>

  <example xml:id="example-14-graph-inverse-from-given-graph">
    <title>Example 14</title>
    <statement>
      <p>The graph of a one-to-one function <m>f(x)</m> with some sample points is given. Sketch the graph of <m>f^{-1}(x)</m>.</p>
      <figure xml:id="fig-example14-given-graph">
        <caption>Graph of <m>f(x)</m> for Example 14.</caption>
        <image source="chapter-7/example-14-given-graph.png" width="50%" decorative="yes"/>
      </figure>
    </statement>
    <solution>
      <p> Since the sample points are <me>\left(-2,\frac{1}{4}\right),\left(-1,\frac{1}{2}\right), (0,1), (1,2), (2,4)</me>, the corresponding points on the graph of the inverse function will be <me>\left(\frac{1}{4},-2\right),\left(\frac{1}{2},-1\right), (1,0), (2,1), (4,2)</me>. Plotting these points and drawing a smooth curve through them yields the following graph.</p>
      <figure xml:id="fig-example14-inverse-graph">
        <caption>Graph of <m>f^{-1}(x)</m> drawn on the same coordinate plane as <m>f(x)</m>.</caption>
        <image source="chapter-7/example-14-inverse-graph.png" width="50%" decorative="yes"/>
      </figure>
      <p>Notice that neither of these graphs are ones we are familiar with, but yet with enough information form one of the graphs, we can still find the graph of its inverse. We will be studying these functions in the next chapter.</p>
    </solution>
  </example>

  <lemma xml:id="lem-creating-inverses">
    <title>Creating Inverses by restricting a function</title>
    <statement>
      <p>
        Let <m>f(x)</m> be a function that is not one-to-one. If we restrict the domain of <m>f(x)</m> so that it is one-to-one on that domain, then the inverse of the restricted function will be a function.
      </p>
    </statement>
  </lemma>

  <example xml:id="example-15-restrict-domain-then-invert">
    <title>Example 15</title>
    <statement>
      <p>
        The function <m>f(x)=\dfrac{1}{(x+2)^2}</m> is not one-to-one since its graph does not pass the horizontal line test
        Find a restriction of the domain that will make <m>f(x)</m> one-to-one. Then find the inverse of the restricted function.
      </p>
    </statement>
    <solution>
      <p>
        First, let's graph our function to see what the graph looks like.
      </p>
      <figure xml:id="fig-example15-graph">
        <caption>Graph of <m>f(x)=\dfrac{1}{(x+2)^2}</m>.</caption>
        <image source="chapter-7/fig-example15-graph.png" width="50%" decorative="yes"/>
      </figure>
      <p>
        Notice that our graph is a reciprocal function with a vertical asymptote at <m>x=-2</m> and a horizontal asymptote at <m>y=0</m>. To make this function one-to-one, we can restrict the domain to <m>x&gt;-2</m> or <m>x&lt;-2</m>. Let's choose <m>x&gt;-2</m> for our restriction. Now, let's find the inverse of the restricted function.
      <md>
        <mrow>y\amp=\dfrac{1}{(x+2)^2}\amp x\amp&gt; -2\\</mrow>
        <mrow>x\amp=\dfrac{1}{(y+2)^2}\amp y\amp&gt; -2\\</mrow>
        <mrow>(y+2)^2\amp=\dfrac{1}{x}\amp y\amp&gt; -2\\</mrow>
        <mrow>y+2\amp=\sqrt{\dfrac{1}{x}}\amp y\amp&gt; -2\\</mrow>
        <mrow>y\amp=\pm\sqrt{\dfrac{1}{x}} - 2\amp y\amp&gt; -2\\</mrow>
      </md>
      The question becomes: do we choose the positive or negative root?  Since <m>y&gt;-2</m>, this implies that <me>\pm\sqrt{1}{x}-2&gt;-2</me> 
      Solving for the square root, we get that <me> \pm\sqrt{\dfrac{1}{x}}&gt;0</me>  This equation is only true if we choose the positive square root. 
      Therefore, the inverse function is <me>f^{-1}(x)=\sqrt{\dfrac{1}{x}} - 2,\; x&gt;0</me>
    </p>
    </solution>
  </example>
  
</section>
